<script type="text/javascript">
    window.res.header.subnavigation.buttonTabs = {
        id: 'ButtonTabs',
        group: 'AdministrationButtonsGroup',
        outpost: 'OutpostAdministration',
        services: 'ServicesAdministration',
        user: 'UserAdministration'
    };

    Ext.onReady(function () {
        var subNavRes = window.res.header.subnavigation;
        var subnav = Ext.getCmp(subNavRes.id);
        subnav.add([
            {
                xtype: 'container',
                id: subNavRes.buttonTabs.id,
                margin: 0,
                padding: 0,
                width: 800,
                layout: {
                    align: 'stretch',
                    padding: 0,
                    type: 'vbox'
                },
                items: [
                    {
                        xtype: 'container',
                        flex: 1,
                        items: [
                            { 
                                xtype: 'label', 
                                html: '&nbsp;' 
                            }
                        ]
                    },{
                        xtype: 'container',
                        layout: {
                            type: 'column'
                        },
                        flex: 1,
                        items: [
                            {
                                xtype: 'button',
                                id: subNavRes.buttonTabs.outpost,
                                toggleGroup: subNavRes.buttonTabs.group,
                                enableToggle: true,
                                pressed: true,
                                height: 38,
                                icon:'@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/Administration/SubMenu/LocationNotSelected.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))',
                                iconAlign: 'left',
                                margin: '10 7 0 20',
                                padding: '0 0 0 10',
                                text: 'Location Administration',
                                ui: 'snapshot-submenu-btn',
                                handler:function(){
                                    SetUnselectedImagesToButtons();
                                    navigateTo(res.link.administration); 
                                }
                            },
                            {
                                xtype: 'button',
                                id: subNavRes.buttonTabs.services,
                                toggleGroup: subNavRes.buttonTabs.group,
                                enableToggle: true,
                                height: 38,
                                margin: '10 7 0 0',
                                padding: '0 0 0 10',
                                icon: '@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/Administration/SubMenu/ProductNotSelected.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))',
                                iconAlign: 'left',
                                text: 'Condition Administration',
                                ui: 'snapshot-submenu-btn',
                                handler:function(){
                                    SetUnselectedImagesToButtons();
                                    navigateTo(res.link.condition); 
                                }
                            },
                            {
                                xtype: 'button',
                                id: subNavRes.buttonTabs.user,
                                toggleGroup: subNavRes.buttonTabs.group,
                                enableToggle: true,
                                height: 38,
                                margin: '10 7 0 0',
                                padding: '0 0 0 10',
                                icon:'@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/Administration/SubMenu/UserNotSelected.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))',
                                iconAlign: 'left',
                                text: 'User Administration',
                                ui: 'snapshot-submenu-btn',
                                handler:function(){
                                    SetUnselectedImagesToButtons();
                                    navigateTo(res.link.clientsOverview); 
                                }
                            }                       
                        ]
                    }
                ]
            },{
                xtype: 'container',
                id: 'userInfo',
                flex: 2,
                layout: {
                    align: 'stretch',
                    type: 'vbox'
                },
                items: [
                    {
                        xtype: 'container',
                        flex: 1,
                        layout: {
                            align: 'stretch',
                            pack: 'end',
                            type: 'hbox'
                        },
                        items: [
                            {
                                xtype: 'container',
                                width: 300,
                                layout: {
                                    align: 'stretch',
                                    type: 'vbox'
                                },
                                items: [
                                    {
                                        xtype: 'label',
                                        style:'text-align:right;',  
                                        margin: '25, 20, 7, 0',
                                        text: '@Html.Action("UserDetails", new { area=string.Empty,controller="Home" })',
                                        cls: 'x-username-label' 
                                    },{
                                        xtype: 'container',
                                        style:'text-align:right;', 
                                        items: [
                                            {
                                                xtype: 'label', 
                                                margin: '0 20 0 0',
                                                cls: 'x-userMenu-label',
                                                text: 'Help',
                                                listeners: {
                                                    render: function (c) {
                                                        c.getEl().on('click', function () {
                                                            alert("Support and help for all web users where any functionality related to the system and solution is unavailable shall be processed by email request. \nSupport is available from 08:00-18:00 GMT, (Monday to Friday except public holidays).\n\nPlease contact us at help@evozon.com\nAcknowledgement shall be received within one (1) business hour from receipt of report and resolution target is five (5) days for 95% of incidents.");
                                                        });

                                                    }
                                                }
                                            },{
                                                xtype: 'label', 
                                                margin: '0 20 0 0',
                                                cls: 'x-userMenu-label',
                                                text: ' · Account Options ·' 
                                            },{
                                                xtype: 'label', 
                                                text: 'Log Out',
                                                margin: '0 20 0 0',
                                                cls: 'x-userMenu-label',
                                                autoEl: {tag: 'a', href: '@Url.RouteUrl(Web.Bootstrap.Routes.DefaultRouteRegistrar.DEFAULT_ROUTE, new { controller = "Account", action = "LogOff" })'}
                                            },{xtype: 'image',
                                               src: '@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/Logout.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))',
                                              margin: '-4 10 0 -15',
                                               style: {float:'right'}
                                           
                                             }
                                        ]
                                    }
                                ]
                            },{
                                xtype: 'container',
                                itemId: 'userPhoto',
                                margin: '14, 0, 0, 0',
                                width: 80,
                                height: 62
//                                items: [
//                                    { 
//                                        xtype: 'image',
//                                        src: '@(Url.RouteUrl<Web.Controllers.AssetsController>(_ => _.Shared("img/Users/user.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))'
//                                    }
//                                ]
                            }
                        ]
                    }
                ]
            }
        ]);
                        
        subnav.ownerCt.doLayout();

        function SetUnselectedImagesToButtons()
        {
            Ext.getCmp(subNavRes.buttonTabs.outpost).setIcon('@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/Administration/SubMenu/LocationNotSelected.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))');
            Ext.getCmp(subNavRes.buttonTabs.user).setIcon('@(Url.RouteUrl<Web.Controllers.AssetsController>(it => it.Shared("/img/Administration/SubMenu/UserNotSelected.png"), Web.Bootstrap.Routes.AssetRoutesRegistrar.SHARED))');
        }
      
    });
</script>